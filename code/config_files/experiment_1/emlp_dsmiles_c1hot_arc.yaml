dataset_dir: "/projects/protein-structure-prediction/SynVerse/datasets/"

# Input Settings: initialize base input folder names,
# dataset collections, and models to run over
input_settings:
  # Base input directory
  input_dir: "/projects/protein-structure-prediction/SynVerse/inputs/"

  drug_features:
    - name: 'smiles'
      preprocess: null
      norm: null
      use: [true]


  cell_line_features:
    - name: '1hot'
      preprocess: null
      norm: null
      use: [true]

  models:
     - name: 'Encoder_MLP'
       drug_encoder:
        - feat: 'smiles'
          encoder: 'Transformer'

       cell_encoder: null
       hp_range: { 'lr': [ 1e-5, 1e-4 ], 'optimizer': [ 'Adam', 'SGD' ] , 'batch_norm': [ True, False ],
                   'sgd_momentum': [ 0.0, 0.99 ] ,
                   'num_hid_layers': [ 1,3 ] , 'hid_0': [ 64, 2048 ] , 'hid_1': [ 64,2048 ] , 'hid_2': [ 64, 2048 ] ,
                   'in_dropout_rate': [ 0.0, 0.5 ] ,'hid_dropout_rate': [ 0.0, 0.5 ],
                   'ff_num_layers': [ 1,3 ], 'ff_0': [ 16, 2048 ] , 'ff_1': [ 16, 2048 ] , 'ff_2': [ 16, 2048 ] , 'gnn_dropout': [ 0.0,0.5 ] }
       epochs: 200
       hp: { 'lr': 0.0001, 'optimizer': 'Adam', 'batch_norm': True, 'num_hid_layers': 2 , 'hid_0': 1024, 'hid_1': 256,
             'in_dropout_rate': 0.2,'hid_dropout_rate': 0.5, 'transformer_num_layers': 3 ,'transformer_embedding_dim': 8 ,
             'transformer_n_head': 4, 'ff_num_layers': 4, 'max_seq_length': 120, 'positional_encoding_type': 'learnable' }

#'max_seq_length': 305
#len(df[df['tokenized'].apply(len) >=120]) = 92


  splits:
    - type: 'leave_comb'
      test_frac: 0.2
      n_folds: 5

    - type: 'leave_drug'
      test_frac: 0.2
      n_folds: 5

    - type: 'leave_cell_line'
      test_frac: 0.2
      n_folds: 5

  wandb:
    enabled: True
    token: 'dc3d431c0afb735d9ac046c72f076bf1f7656472'
    project_name: 'Synverse-Transformer'
    entity_name: 'haghani-vt'
    timezone: 'US/Eastern'
    timezone_format: '%Y-%m-%d_%H-%M-%S'

  bohb:
      min_budget: 27
      max_budget: 729
      n_iterations: 3
      run_id : 'example_1'
      server_type: 'local' #or cluster

  feature: 'must'
  abundance: 0.05

  max_feat: 1
  mode: 'train_val'

output_settings:
  output_dir: '/projects/protein-structure-prediction/SynVerse/outputs/'